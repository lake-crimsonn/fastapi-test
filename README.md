# 230813

## 프로젝트

### hand distance game

#### 거리를 쉽게 구할 수 있을거라는 착각

- 박스 안에서 잡힌 자동차의 넓이와 박스 x1, x2간의 거리를 구하고 비교해 보면 쉽게 알 수 있을거라고 생각헀다. 박스 안에 잡힌 자동차의 넓이가 1m, 박스 좌표간 거리가 10이라고 하면 1픽셀당 10cm라고 가정하려고 했으나 문제가 있었다. 애초에 박스가 웹캠 가까이 있으면 많은 픽셀을 박스가 차지해버리니 1픽셀당 10cm가 되지 않는다. 이러한 경우의 수의 데이터 여러개를 모아 놓고 알아봐야 한다.

#### 웹캠 하나로 손바닥과의 거리 구하기

- 3D 웹캠만큼 정확한 거리는 구할 수 없으나, 대략적인 거리는 알 수가 있다.
- 일단 손바닥의 넓이를 구하자. 손바닥 양 끝점의 거리를 웹캠에 비추어지는 동안 계속 구하면 된다. 웹캠과 손의 거리가 가까워지면 손바닥 가로의 넓이는 점점 더 커질 것이고, 웹캠과 손의 거리가 멀어질수록 손바닥 가로의 넓이는 줄어든다.
- 하지만 손바닥을 45도나 90도 회전하면 거리가 제대로 구해지지 않는다. 웹캠과의 거리가 달라지지 않음에도 거리는 점점 줄어드는 값을 출력한다. 손바닥 끝점이 가로로 고정되어 있을 때만 계산이 정확하다. 피타고라스를 이용해서 대각선 diagonal의 거리를 구하면 된다.
- 손바닥 넓이(x)와 웹캠과의 거리(y)를 비교해 보자. 웹캠과 손바닥이 20cm 떨어져 있을 때는 픽셀의 차이 300px이다. 25cm 떨어져 있을 때는 245px. 이렇게 비교해 보면 항상 선형적으로 수치가 오르지 않음을 알 수 있다.

  ```
  x = [300, 245, 200, 170, 145, 130, 112, 103, 93, 87, 80, 75, 70, 67, 62, 59, 57]
  y = [20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100]
  ```

- 곡선을 그리며 수치가 떨어지기 때문에 이차방정식을 이용해서 거리를 알 수 있다. `np.polyfit(x, y, 2)` Ax^2 + Bx + C에서 ABC를 리턴한다. x에 피타고라스법칙으로 구한 거리를 넣어 줘서 손바닥의 넓이와 웹캠과의 거리의 상관관계를 알 수 있다.

- 참고 유튜브
  - https://www.youtube.com/watch?v=NGQgRH2_kq8
  - https://www.youtube.com/watch?v=jsoe1M2AjFk

---
